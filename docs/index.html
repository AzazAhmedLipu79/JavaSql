<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Java CSV DBMS - Documentation</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.5;margin:2rem;}
    h1,h2{margin-top:1.5rem}
    code,kbd,pre{background:#f6f8fa;padding:.2rem .4rem;border-radius:4px}
    pre{padding:1rem;overflow:auto}
    nav{position:sticky;top:0;background:#fff;padding:.5rem 0;border-bottom:1px solid #eee;margin-bottom:1rem}
    nav a{margin-right:1rem}
    .note{background:#fff8e1;border:1px solid #ffe58f;padding:.5rem 1rem;border-radius:6px}
  </style>
</head>
<body>
  <nav>
    <a href="#overview">Overview</a>
    <a href="#architecture">Architecture</a>
    <a href="#usage">Usage</a>
    <a href="#sql">Supported SQL</a>
  <a href="queries.html">Queries & examples</a>
    <a href="#storage">Storage</a>
    <a href="#limits">Limitations</a>
  </nav>

  <h1 id="overview">Java CSV DBMS</h1>
  <p>A minimal SQL-like engine in Java over CSV files with paged storage.</p>

  <h2 id="architecture">Architecture</h2>
  <ul>
    <li><strong>Parser</strong>: Lexer + Parser produce AST nodes.</li>
    <li><strong>Executor</strong>: Interprets AST, calls TableEngine.</li>
    <li><strong>TableEngine</strong>: CSV IO, pagination, CRUD, select, join.</li>
    <li><strong>Session</strong>: Tracks current database.</li>
    <li><strong>SqlRunner/Main</strong>: SQL file runner and REPL.</li>
  </ul>

  <h2 id="usage">Usage</h2>
  <pre><code>build.bat
java -cp out SqlRunner tests\e2e.sql
</code></pre>

  <h2 id="sql">Supported SQL</h2>
  <ul>
    <li>CREATE DATABASE, USE, CREATE TABLE</li>
    <li>INSERT/UPDATE/DELETE</li>
    <li>SELECT with WHERE = and ORDER BY</li>
    <li>JOIN ON equality</li>
    <li>SELECT DATABASE</li>
  </ul>

  <h2 id="storage">Storage model</h2>
  <p>Tables are directories under <code>storage/databases/&lt;db&gt;/&lt;table&gt;/</code> with <code>page_0.csv</code>, <code>page_1.csv</code>, ...</p>
  <div class="note">
    Page size is configured in <code>storage/user_management/config.json</code> under <code>storage.page_size_kb</code>.
  </div>

  <h2 id="limits">Limitations</h2>
  <ul>
    <li>Equality-only WHERE; no expressions</li>
    <li>No types, transactions, or indexes</li>
    <li>JOIN is nested-loop</li>
  </ul>
</body>
</html>
